import{_ as $,o as r,q as d,w as e,d as a,v as z,B as A,y as F,g as n,t as y,h as v,V as x,J as M,s as U,i as j,r as _,ae as C,ay as D,aL as G,e as R,x as q,b as w,F as P,f as J,A as Q,D as H,m as K}from"./index-BTtIyDGB.js";import{V as m,a as i}from"./VRow-D9VES1vB.js";import{V as O}from"./VContainer-qXRlbguS.js";import{a as W}from"./VSelect-DDD2MOOG.js";import{V as X}from"./VPagination-DKRQ9NXy.js";import"./VList-BRz-Zc3g.js";import"./VDivider-nHE9IfsE.js";import"./VCheckboxBtn-yrcXBh_M.js";import"./VChip-9szuzcKh.js";const Y={class:"info-text"},Z={class:"info-text"},ee={class:"info-text"},ae={__name:"VenueCard",props:["name","address","phone","images","time","mapLink"],setup(k){const c=k;return(b,p)=>(r(),d(U,{class:"custom-card d-flex flex-column",width:"100%"},{default:e(()=>[a(m,{class:"flex-grow-1"},{default:e(()=>[a(i,{cols:"12",sm:"6"},{default:e(()=>[a(z,{src:c.images[0],width:"100%",class:"venue-img",cover:""},null,8,["src"])]),_:1}),a(i,{cols:"12",sm:"6"},{default:e(()=>[a(A,{class:"d-flex flex-column justify-space-between h-100 py-0"},{default:e(()=>[a(F,{class:"px-0 text-blue-grey-darken-3"},{default:e(()=>[n(y(c.name),1)]),_:1}),v("div",Y,[a(x,{color:"#555"},{default:e(()=>[n(" mdi-clock-outline ")]),_:1}),n(" 營業時間 : "+y(c.time),1)]),v("div",Z,[a(x,{color:"#555"},{default:e(()=>[n(" mdi-phone ")]),_:1}),n(" 電話 : "+y(c.phone),1)]),v("div",ee,[a(x,{color:"#555"},{default:e(()=>[n(" mdi-map ")]),_:1}),n(" 地址 : "+y(c.address),1)]),a(M,{elevation:"0",active:!1,variant:"text",class:"opacity-100 map-btn",href:c.mapLink,target:"_blank"},{default:e(()=>[a(x,{size:"x-large",color:"#039199",class:"me-2"},{default:e(()=>[n(" mdi-map-marker-radius-outline ")]),_:1}),n(" Google Map ")]),_:1},8,["href"])]),_:1})]),_:1})]),_:1})]),_:1}))}},te=$(ae,[["__scopeId","data-v-bcaeee58"]]),le=v("h2",null,"球場資訊",-1),se=v("div",{class:"ps-4",style:{color:"#333","font-size":"16px","font-weight":"500"}}," 地區 : ",-1),oe=v("p",null,"沒有找到相關球場",-1),T=10,_e={__name:"venues",setup(k){const{api:c}=H(),b=j(),p=_(""),f=_(""),g=_([]),V=_(!0),s=_(1),h=_(1),S=["台北市","新北市","桃園市","台中市","台南市","高雄市","基隆市","新竹市","嘉義市","新竹縣","苗栗縣","彰化縣","南投縣","雲林縣","嘉義縣","屏東縣","宜蘭縣","花蓮縣","台東縣","澎湖縣","金門縣","連江縣"],u=async()=>{var l,o;V.value=!0;try{const{data:t}=await c.get("/venue",{params:{itemsPerPage:T,page:s.value,search:p.value,city:f.value}});h.value=Math.ceil(t.result.total/T),g.value=t.result.data}catch(t){console.error("載入球場資訊時發生錯誤:",t),b({text:((o=(l=t==null?void 0:t.response)==null?void 0:l.data)==null?void 0:o.message)||"載入球場資訊時發生錯誤",snackbarProps:{color:"red-lighten-1"}}),g.value=[],h.value=1}finally{V.value=!1}},B=(()=>{let l;return()=>{V.value=!0,clearTimeout(l),l=setTimeout(()=>{s.value=1,u()},300)}})(),I=()=>{p.value="",s.value=1,u()},L=()=>{s.value=1,u()},E=()=>{f.value="",s.value=1,u()},N=()=>{window.scrollTo({top:0,behavior:"smooth"}),u()};return C(p,l=>{l===""&&(s.value=1,u())}),C(f,l=>{l===null&&(s.value=1,u())}),u(),(l,o)=>(r(),d(O,{class:"mt-8 mb-12",style:{"max-width":"1200px"},fluid:""},{default:e(()=>[le,a(m,{class:"mt-4"},{default:e(()=>[se]),_:1}),a(m,null,{default:e(()=>[a(i,{cols:"5",md:"3"},{default:e(()=>[a(W,{modelValue:f.value,"onUpdate:modelValue":[o[0]||(o[0]=t=>f.value=t),L],items:S,variant:"outlined",density:"compact",clearable:!!f.value,"onClick:clear":E},null,8,["modelValue","clearable"])]),_:1}),a(D),a(i,{cols:"5",md:"3"},{default:e(()=>[a(G,{modelValue:p.value,"onUpdate:modelValue":o[1]||(o[1]=t=>p.value=t),label:"搜尋","append-inner-icon":"mdi-magnify",variant:"outlined",density:"compact",clearable:"",onInput:R(B),"onClick:clear":I},null,8,["modelValue","onInput"])]),_:1})]),_:1}),V.value?(r(),d(m,{key:0,justify:"center",align:"center",style:{height:"200px"}},{default:e(()=>[a(i,{cols:"12",class:"text-center"},{default:e(()=>[a(q,{indeterminate:"",color:"primary",size:"64"})]),_:1})]),_:1})):(r(),w(P,{key:1},[g.value.length>0?(r(),d(m,{key:0,class:"mb-4"},{default:e(()=>[(r(!0),w(P,null,J(g.value,t=>(r(),d(i,{key:t._id,cols:"12",md:"6"},{default:e(()=>[a(te,K({ref_for:!0},t),null,16)]),_:2},1024))),128))]),_:1})):(r(),d(m,{key:1},{default:e(()=>[a(i,{cols:"12",class:"text-center"},{default:e(()=>[oe]),_:1})]),_:1})),h.value>1?(r(),d(m,{key:2},{default:e(()=>[a(i,{cols:"12"},{default:e(()=>[a(X,{modelValue:s.value,"onUpdate:modelValue":[o[2]||(o[2]=t=>s.value=t),N],length:h.value,rounded:"circle",density:"compact","next-icon":"mdi-menu-right","prev-icon":"mdi-menu-left","total-visible":8,color:"teal-darken-1"},null,8,["modelValue","length"])]),_:1})]),_:1})):Q("",!0)],64))]),_:1}))}};export{_e as default};

import{bm as Ke,E as Ye,K as Qe,L as Xe,aF as Ze,bn as el,a3 as ll,M as al,bo as tl,N as nl,O as ol,P as rl,bp as ul,H as sl,am as dl,c as de,a5 as il,bq as cl,aG as ml,br as fl,a7 as vl,Y as pl,bs as _l,T as gl,W as yl,S as bl,U as kl,d as e,bt as Vl,V,as as ze,J as _,m as Me,_ as hl,l as Cl,i as xl,r as $,n as Pl,a as $l,o as m,b as D,w as a,C as te,F as E,D as Tl,h as f,g as o,ay as ne,e as s,q as g,bk as oe,A as k,f as re,s as L,y as Ce,B as ue,aO as se,aN as wl,t as i,aL as N,ax as xe,p as Sl,k as zl}from"./index-JmLPZ0ix.js";import{C as Il}from"./ConfirmDeleteDialog-BeEKTZrR.js";import{c as Dl,a as T,u as El,b as w}from"./vee-validate.esm-BuR1WBOW.js";import{b as Ie}from"./route-block-B_A1xBdJ.js";import{V as y,a as r}from"./VRow-BS-lAv8L.js";import{V as De}from"./VDivider-BSVDpMZq.js";import{V as Al}from"./VForm-Bz4sPFhe.js";import{V as Fl}from"./VAutocomplete-Bv8K69Bv.js";import{a as Ee,V as Ml,c as Ul,d as Ll}from"./VList-CxC1Ni2m.js";import{a as Ae}from"./VSelect-BDGKLtES.js";import{V as Nl}from"./VTextarea-Df0RSYdw.js";import"./_commonjsHelpers-Cpj98o6Y.js";import"./filter-B0LuyzFP.js";import"./VCheckboxBtn-BgChJEWi.js";import"./VChip-Ba9iiG22.js";const ql=Ke("v-alert-title"),Bl=["success","info","warning","error"],Rl=Ye({border:{type:[Boolean,String],validator:u=>typeof u=="boolean"||["top","end","bottom","start"].includes(u)},borderColor:String,closable:Boolean,closeIcon:{type:Qe,default:"$close"},closeLabel:{type:String,default:"$vuetify.close"},icon:{type:[Boolean,String,Function,Object],default:null},modelValue:{type:Boolean,default:!0},prominent:Boolean,title:String,text:String,type:{type:String,validator:u=>Bl.includes(u)},...Xe(),...Ze(),...el(),...ll(),...al(),...tl(),...nl(),...ol(),...rl(),...ul({variant:"flat"})},"VAlert"),Fe=sl()({name:"VAlert",props:Rl(),emits:{"click:close":u=>!0,"update:modelValue":u=>!0},setup(u,z){let{emit:J,slots:c}=z;const C=dl(u,"modelValue"),q=de(()=>{if(u.icon!==!1)return u.type?u.icon??`$${u.type}`:u.icon}),h=de(()=>({color:u.color??u.type,variant:u.variant})),{themeClasses:K}=il(u),{colorClasses:A,colorStyles:F,variantClasses:H}=cl(h),{densityClasses:b}=ml(u),{dimensionStyles:Y}=fl(u),{elevationClasses:ie}=vl(u),{locationStyles:Q}=pl(u),{positionClasses:ce}=_l(u),{roundedClasses:me}=gl(u),{textColorClasses:X,textColorStyles:G}=yl(bl(u,"borderColor")),{t:Z}=kl(),B=de(()=>({"aria-label":Z(u.closeLabel),onClick(M){C.value=!1,J("click:close",M)}}));return()=>{const M=!!(c.prepend||q.value),R=!!(c.title||u.title),O=!!(c.close||u.closable);return C.value&&e(u.tag,{class:["v-alert",u.border&&{"v-alert--border":!!u.border,[`v-alert--border-${u.border===!0?"start":u.border}`]:!0},{"v-alert--prominent":u.prominent},K.value,A.value,b.value,ie.value,ce.value,me.value,H.value,u.class],style:[F.value,Y.value,Q.value,u.style],role:"alert"},{default:()=>{var j,W;return[Vl(!1,"v-alert"),u.border&&e("div",{key:"border",class:["v-alert__border",X.value],style:G.value},null),M&&e("div",{key:"prepend",class:"v-alert__prepend"},[c.prepend?e(ze,{key:"prepend-defaults",disabled:!q.value,defaults:{VIcon:{density:u.density,icon:q.value,size:u.prominent?44:28}}},c.prepend):e(V,{key:"prepend-icon",density:u.density,icon:q.value,size:u.prominent?44:28},null)]),e("div",{class:"v-alert__content"},[R&&e(ql,{key:"title"},{default:()=>{var I;return[((I=c.title)==null?void 0:I.call(c))??u.title]}}),((j=c.text)==null?void 0:j.call(c))??u.text,(W=c.default)==null?void 0:W.call(c)]),c.append&&e("div",{key:"append",class:"v-alert__append"},[c.append()]),O&&e("div",{key:"close",class:"v-alert__close"},[c.close?e(ze,{key:"close-defaults",defaults:{VBtn:{icon:u.closeIcon,size:"x-small",variant:"text"}}},{default:()=>{var I;return[(I=c.close)==null?void 0:I.call(c,{props:B.value})]}}):e(_,Me({key:"close-btn",icon:u.closeIcon,size:"x-small",variant:"text"},B.value),null)])]}})}}}),v=u=>(Sl("data-v-44da7248"),u=u(),zl(),u),Ol={class:"opacity-90 mb-4"},jl=v(()=>f("br",null,null,-1)),Wl=v(()=>f("br",null,null,-1)),Hl=v(()=>f("br",null,null,-1)),Gl=v(()=>f("br",null,null,-1)),Jl=v(()=>f("br",null,null,-1)),Kl=v(()=>f("br",null,null,-1)),Yl=v(()=>f("br",null,null,-1)),Ql=v(()=>f("br",null,null,-1)),Xl=v(()=>f("br",null,null,-1)),Zl=v(()=>f("br",null,null,-1)),ea=v(()=>f("br",null,null,-1)),la=v(()=>f("br",null,null,-1)),aa=v(()=>f("br",null,null,-1)),ta=v(()=>f("br",null,null,-1)),na=v(()=>f("br",null,null,-1)),oa=v(()=>f("br",null,null,-1)),ra=v(()=>f("br",null,null,-1)),ua=v(()=>f("br",null,null,-1)),sa=v(()=>f("br",null,null,-1)),da=v(()=>f("br",null,null,-1)),ia=v(()=>f("br",null,null,-1)),ca={key:1},ma={class:"enrollment-list-name"},fa={class:"enrollment-list-userId"},Ue={__name:"post",setup(u){const{mdAndUp:z,smAndUp:J}=Cl(),{apiAuth:c}=Tl(),C=xl(),q=de(()=>new Date().toISOString().split("T")[0]),h=$([]),K=$([]),A=$({}),F=$({}),H=$(!1),b=$({open:!1,time:null,type:null}),Y=t=>{b.value.type=t,b.value.open=!0},ie=()=>{b.value.type==="start"?R.value.value=b.value.time:O.value.value=b.value.time,b.value.open=!1,b.value.time=null},Q=()=>{b.value={open:!1,time:null,type:null}},ce=Dl({venueId:T().required("請選擇球場"),date:T().required("請選擇日期"),startTime:T().required("請輸入開始時間"),endTime:T().required("請輸入結束時間"),netheight:T().required("請選擇網高"),level:T().required("請選擇程度"),male:T().min(0,"人數不能小於0"),female:T().min(0,"人數不能小於0"),nopreference:T().min(0,"人數不能小於0"),fee:T().required("請輸入費用").min(1,"請填寫費用"),note:T()}).test("at-least-one-gender","至少需要填寫其中一性別的人數",function(t){return Number(t.male)>0||Number(t.female)>0||Number(t.nopreference)>0?!0:this.createError({path:"male",message:"三欄必填一欄人數"})}),{handleSubmit:me,isSubmitting:X,resetForm:G,errors:Z}=El({validationSchema:ce,initialValues:{venueId:"",date:"",startTime:"",endTime:"",netheight:"",level:"",male:0,female:0,nopreference:0,fee:0,note:""}}),B=w("venueId"),M=w("date"),R=w("startTime"),O=w("endTime"),j=w("netheight"),W=w("level"),I=w("male"),fe=w("female"),ve=w("nopreference"),pe=w("fee"),_e=w("note"),S=$({open:!1,id:null}),ee=$({open:!1}),ge=$(null),le=$({open:!1}),Le=me(async t=>{var n,d;try{const l={...t,v_id:t.venueId,time:`${t.startTime}-${t.endTime}`,male:parseInt(t.male),female:parseInt(t.female),nopreference:parseInt(t.nopreference),fee:parseFloat(t.fee)};delete l.venueId,delete l.startTime,delete l.endTime;let p;S.value.id?p=await c.patch(`/session/${S.value.id}`,l):(p=await c.post("/session",l),console.log(p)),C({text:S.value.id?"場次編輯成功":"場次新增成功",snackbarProps:{color:"teal-darken-1"}}),ye(),$e()}catch(l){console.error(l),C({text:((d=(n=l==null?void 0:l.response)==null?void 0:n.data)==null?void 0:d.message)||"操作失敗",snackbarProps:{color:"red-lighten-1"}})}}),Ne=t=>{le.value={open:!0}},qe=()=>{le.value.open=!1},ae=t=>{if(t?F.value[t._id]=!0:H.value=!0,Q(),t){S.value.id=t._id;const[n,d]=t.time.split("-");G({values:{venueId:t.v_id._id||t.v_id,date:Be(t.date),startTime:n,endTime:d,netheight:t.netheight,level:t.level,male:t.male,female:t.female,nopreference:t.nopreference,fee:t.fee,note:t.note}})}else S.value.id=null,G({values:{venueId:"",date:"",startTime:"",endTime:"",netheight:"",level:"",male:0,female:0,nopreference:0,fee:0,note:""}});S.value.open=!0,t?F.value[t._id]=!1:H.value=!1},Be=t=>new Date(t).toISOString().split("T")[0],ye=()=>{G(),Q(),S.value.open=!1},be=t=>{ge.value=t,ee.value.open=!0},Pe=()=>{ee.value.open=!1},Re=async()=>{var t,n;try{await c.delete(`/session/${ge.value}`),h.value=h.value.filter(d=>d._id!==ge.value),C({text:"場次已成功取消",snackbarProps:{color:"teal-darken-1"}}),Pe()}catch(d){C({text:((n=(t=d==null?void 0:d.response)==null?void 0:t.data)==null?void 0:n.message)||"操作失敗",snackbarProps:{color:"red-lighten-1"}})}},$e=async()=>{var t,n;try{const{data:d}=await c.get("/session/user");Array.isArray(d.result)?h.value=d.result:(console.error("Received data is not an array:",d),C({text:"接收到的資料格式不正確",snackbarProps:{color:"red-lighten-1"}}))}catch(d){console.error("Error loading sessions:",d),C({text:((n=(t=d==null?void 0:d.response)==null?void 0:t.data)==null?void 0:n.message)||"無法加載場次資料",snackbarProps:{color:"red-lighten-1"}})}},ke=t=>t&&typeof t=="object"&&t.name||"未知場地",Ve=t=>new Date(t).toLocaleDateString("zh-TW"),Oe=async()=>{var t,n;try{let d=[],l=1,p=!0;const P=100;for(;p;){const{data:x}=await c.get("/venue",{params:{page:l,itemsPerPage:P}});Array.isArray(x.result.data)&&x.result.data.length>0?(d=d.concat(x.result.data),x.result.data.length<P?p=!1:l++):p=!1}K.value=d.map(x=>{const we=x.address.replace(/^\d{3,5}\s*/,"").match(/^(.+?[市縣])/),Se=we?we[1]:"未知地區";return{id:x._id.$oid||x._id,name:x.name,city:Se,fullName:`[${Se}] ${x.name}`}}).sort((x,Te)=>x.city.localeCompare(Te.city,"zh-TW"))}catch(d){console.error("Error loading venues:",d),C({text:((n=(t=d==null?void 0:d.response)==null?void 0:t.data)==null?void 0:n.message)||"無法加載球場資料",snackbarProps:{color:"red-lighten-1"}})}},je=(t,n,d)=>{const l=n.toLowerCase();return t.raw.fullName.toLowerCase().includes(l)||t.raw.city.toLowerCase().includes(l)||t.raw.name.toLowerCase().includes(l)},U=$({open:!1,enrollments:[],session:null}),We=t=>{const n=[];return t.male>0&&n.push(`男${t.male}人`),t.female>0&&n.push(`女${t.female}人`),t.nopreference>0&&n.push(`不限${t.nopreference}人`),n.length>0?n.join(" "):"無報名資料"},He=t=>{if(!t)return"無資料";const n=t.male-(t.participantMale||0),d=t.female-(t.participantFemale||0),l=t.nopreference-(t.participantNoPreference||0);if(n<=0&&d<=0&&l<=0)return"名額已滿";const p=[];return l>0&&p.push(`不限${l}人`),n>0&&p.push(`男${n}人`),d>0&&p.push(`女${d}人`),`尚需: ${p.join(" ")}`},Ge=async t=>{try{const{data:n}=await c.get(`/session/${t}`),d=h.value.findIndex(l=>l._id===t);d!==-1&&(h.value[d]=n.result)}catch(n){console.error("Error updating session data:",n),C({text:"無法更新場次資料",snackbarProps:{color:"red-lighten-1"}})}},he=async t=>{A.value[t._id]=!0;try{const n=await c.get(`/enrollment/session/${t._id}`);U.value={open:!0,enrollments:n.data.result.sort((d,l)=>new Date(d.createdAt)-new Date(l.createdAt)),session:t},await Ge(t._id)}catch(n){console.error("Error fetching enrollment records:",n),C({text:"無法獲取報名紀錄",snackbarProps:{color:"red-lighten-1"}})}finally{A.value[t._id]=!1}},Je=()=>{U.value.open=!1};return Pl(()=>{$e(),Oe()}),(t,n)=>{const d=$l("v-time-picker");return m(),D(E,null,[e(y,{class:"mt-4"},{default:a(()=>[e(r,{cols:"12",class:"pt-0"},{default:a(()=>[e(y,null,{default:a(()=>[e(r,{cols:"12",sm:"3"},{default:a(()=>[f("h3",Ol,[o(" 刊登場次 "),e(V,{icon:"mdi-information-outline",color:"grey-darken-1",size:"x-small",class:"pb-1",onClick:Ne})])]),_:1}),e(ne),e(r,{cols:"12",sm:"3"},{default:a(()=>[e(_,{block:"",elevation:"0",variant:"flat",class:"post-btn",loading:H.value,onClick:n[0]||(n[0]=l=>ae(null))},{default:a(()=>[o(" 刊登場次 ")]),_:1},8,["loading"])]),_:1})]),_:1})]),_:1}),e(r,{class:"pt-0 pb-2"},{default:a(()=>[e(De)]),_:1}),s(z)?(m(),g(r,{key:0,cols:"12"},{default:a(()=>[e(y,{class:"mb-4"},{default:a(()=>[e(r,{cols:"12"},{default:a(()=>[e(y,{class:"px-4 text-center",style:{"font-size":"15px"}},{default:a(()=>[e(r,null,{default:a(()=>[o(" 球場 ")]),_:1}),e(r,{cols:"2"},{default:a(()=>[o(" 日期/時段 ")]),_:1}),e(r,{cols:"1"},{default:a(()=>[o(" 網高 ")]),_:1}),e(r,{cols:"1"},{default:a(()=>[o(" 程度 ")]),_:1}),e(r,null,{default:a(()=>[o(" 人數 ")]),_:1}),e(r,{cols:"1"},{default:a(()=>[o(" 費用 ")]),_:1}),e(r,null,{default:a(()=>[o(" 備註 ")]),_:1}),e(r,{cols:"1"},{default:a(()=>[o(" 操作 ")]),_:1})]),_:1})]),_:1})]),_:1}),h.value.length===0?(m(),g(oe,{key:0,height:"100%",align:"center",class:"opacity-80"},{default:a(()=>[o(" 目前您沒有刊登任何場次 ")]),_:1})):k("",!0),(m(!0),D(E,null,re(h.value,(l,p)=>(m(),g(L,{key:l._id.$oid||l._id,elevation:"0",class:"pa-4 py-8 post-card",style:xe({backgroundColor:p%2===0?"#f0f0f080":"#EFEBE990"})},{default:a(()=>[e(y,null,{default:a(()=>[e(r,{cols:"12"},{default:a(()=>[e(y,{class:"align-center text-center text-blue-grey-darken-2",style:{"font-size":"13px","font-weight":"500"}},{default:a(()=>[e(r,null,{default:a(()=>[o(i(ke(l.v_id)),1)]),_:2},1024),e(r,{cols:"2"},{default:a(()=>[o(i(Ve(l.date))+" ",1),jl,o(" "+i(l.time),1)]),_:2},1024),e(r,{cols:"1"},{default:a(()=>[o(i(l.netheight),1)]),_:2},1024),e(r,{cols:"1"},{default:a(()=>[o(i(l.level),1)]),_:2},1024),e(r,null,{default:a(()=>[l.male>0?(m(),D(E,{key:0},[o(" 男:"+i(l.male)+" (已報名:"+i(l.participantMale)+") ",1),Wl],64)):k("",!0),l.female>0?(m(),D(E,{key:1},[o(" 女:"+i(l.female)+" (已報名:"+i(l.participantFemale)+") ",1),Hl],64)):k("",!0),l.nopreference>0?(m(),D(E,{key:2},[o(" 不限:"+i(l.nopreference)+" (已報名:"+i(l.participantNoPreference)+") ",1)],64)):k("",!0)]),_:2},1024),e(r,{cols:"1"},{default:a(()=>[o(i(l.fee)+"/人 ",1)]),_:2},1024),e(r,null,{default:a(()=>[o(i(l.note||"無備註"),1)]),_:2},1024),e(r,{cols:"1"},{default:a(()=>[e(_,{size:"x-small",color:"blue-darken-3",variant:"outlined",class:"mt-2 md-btn",loading:A.value[l._id],onClick:P=>he(l)},{default:a(()=>[e(V,{icon:"mdi-progress-check"})]),_:2},1032,["loading","onClick"]),e(_,{size:"x-small",color:"teal-darken-1",variant:"outlined",class:"mt-1 md-btn",loading:F.value[l._id],onClick:P=>ae(l)},{default:a(()=>[e(V,{icon:"mdi-pen"})]),_:2},1032,["loading","onClick"]),e(_,{size:"x-small",color:"red-darken-3",variant:"outlined",class:"mt-1 md-btn",onClick:P=>be(l._id.$oid||l._id)},{default:a(()=>[e(V,{icon:"mdi-delete"})]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1032,["style"]))),128))]),_:1})):k("",!0),!s(z)&&s(J)?(m(),g(r,{key:1,cols:"12"},{default:a(()=>[e(y,{class:"mb-4"},{default:a(()=>[e(r,{cols:"12"},{default:a(()=>[e(y,{class:"px-4 text-center",style:{"font-size":"14px"}},{default:a(()=>[e(r,{class:"align-self-center"},{default:a(()=>[o(" 球場 ")]),_:1}),e(r,{class:"align-self-center"},{default:a(()=>[o(" 日期"),Gl,o("時段 ")]),_:1}),e(r,{class:"align-self-center"},{default:a(()=>[o(" 網高"),Jl,o("程度"),Kl,o("費用 ")]),_:1}),e(r,{class:"align-self-center"},{default:a(()=>[o(" 人數 ")]),_:1}),e(r,{class:"align-self-center"},{default:a(()=>[o(" 備註 ")]),_:1}),e(r,{class:"align-self-center"},{default:a(()=>[o(" 操作 ")]),_:1})]),_:1})]),_:1})]),_:1}),h.value.length===0?(m(),g(oe,{key:0,align:"center",class:"opacity-80"},{default:a(()=>[o(" 目前您沒有刊登任何場次 ")]),_:1})):k("",!0),(m(!0),D(E,null,re(h.value,(l,p)=>(m(),g(L,{key:l._id.$oid||l._id,elevation:"0",class:"pa-4 py-8 post-card",style:xe({backgroundColor:p%2===0?"#f0f0f080":"#EFEBE990"})},{default:a(()=>[e(y,null,{default:a(()=>[e(r,{cols:"12"},{default:a(()=>[e(y,{class:"align-center text-center text-blue-grey-darken-2",style:{"font-size":"13px","font-weight":"500"}},{default:a(()=>[e(r,null,{default:a(()=>[o(i(ke(l.v_id)),1)]),_:2},1024),e(r,null,{default:a(()=>[o(i(Ve(l.date))+" ",1),Yl,o(" "+i(l.time),1)]),_:2},1024),e(r,null,{default:a(()=>[o(i(l.netheight),1),Ql,o(" "+i(l.level),1),Xl,o(" "+i(l.fee)+"/人 ",1)]),_:2},1024),e(r,null,{default:a(()=>[o(" 男:"+i(l.male),1),Zl,o(" 女:"+i(l.female)+" ",1),ea,o(" 不限:"+i(l.nopreference),1)]),_:2},1024),e(r,null,{default:a(()=>[o(i(l.note||"無備註"),1)]),_:2},1024),e(r,null,{default:a(()=>[e(_,{size:"x-small",color:"blue-darken-3",variant:"outlined",class:"mt-2",loading:A.value[l._id],onClick:P=>he(l)},{default:a(()=>[e(V,{icon:"mdi-progress-check"})]),_:2},1032,["loading","onClick"]),la,e(_,{size:"x-small",color:"teal-darken-1",variant:"outlined",class:"mt-1",loading:F.value[l._id],onClick:P=>ae(l)},{default:a(()=>[e(V,{icon:"mdi-pen"})]),_:2},1032,["loading","onClick"]),aa,e(_,{size:"x-small",color:"red-darken-3",variant:"outlined",class:"mt-1",onClick:P=>be(l._id.$oid||l._id)},{default:a(()=>[e(V,{icon:"mdi-delete"})]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1032,["style"]))),128))]),_:1})):k("",!0),!s(z)&&!s(J)?(m(),g(r,{key:2,cols:"12"},{default:a(()=>[e(y,{class:"mb-4"},{default:a(()=>[e(r,{cols:"12"},{default:a(()=>[e(y,{class:"px-4 text-center",style:{"font-size":"14px"}},{default:a(()=>[e(r,{class:"align-self-center"},{default:a(()=>[o(" 球場 ")]),_:1}),e(r,{class:"align-self-center"},{default:a(()=>[o(" 日期"),ta,o("時段 ")]),_:1}),e(r,{class:"align-self-center"},{default:a(()=>[o(" 網高"),na,o("程度"),oa,o("費用 ")]),_:1}),e(r,{class:"align-self-center"},{default:a(()=>[o(" 操作 ")]),_:1})]),_:1})]),_:1})]),_:1}),h.value.length===0?(m(),g(oe,{key:0,height:"100%",align:"center",class:"opacity-80"},{default:a(()=>[o(" 目前您沒有刊登任何場次 ")]),_:1})):k("",!0),(m(!0),D(E,null,re(h.value,(l,p)=>(m(),g(L,{key:l._id.$oid||l._id,elevation:"0",class:"pa-4 py-8 post-card",style:xe({backgroundColor:p%2===0?"#f0f0f080":"#EFEBE990"})},{default:a(()=>[e(y,null,{default:a(()=>[e(r,{cols:"12"},{default:a(()=>[e(y,{class:"align-center text-center text-blue-grey-darken-2",style:{"font-size":"13px","font-weight":"500"}},{default:a(()=>[e(r,null,{default:a(()=>[o(i(ke(l.v_id)),1)]),_:2},1024),e(r,null,{default:a(()=>[o(i(Ve(l.date))+" ",1),ra,o(" "+i(l.time),1)]),_:2},1024),e(r,null,{default:a(()=>[o(i(l.netheight),1),ua,o(" "+i(l.level),1),sa,o(" "+i(l.fee)+"/人 ",1)]),_:2},1024),e(r,null,{default:a(()=>[e(_,{size:"x-small",color:"blue-darken-3",variant:"outlined",class:"mt-2",loading:A.value[l._id],onClick:P=>he(l)},{default:a(()=>[e(V,{icon:"mdi-progress-check"})]),_:2},1032,["loading","onClick"]),da,e(_,{size:"x-small",color:"teal-darken-1",variant:"outlined",class:"mt-1",loading:F.value[l._id],onClick:P=>ae(l)},{default:a(()=>[e(V,{icon:"mdi-pen"})]),_:2},1032,["loading","onClick"]),ia,e(_,{size:"x-small",color:"red-darken-3",variant:"outlined",class:"mt-1",onClick:P=>be(l._id.$oid||l._id)},{default:a(()=>[e(V,{icon:"mdi-delete"})]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1032,["style"]))),128))]),_:1})):k("",!0)]),_:1}),e(te,{modelValue:le.value.open,"onUpdate:modelValue":n[1]||(n[1]=l=>le.value.open=l),"max-width":"320px"},{default:a(()=>[e(L,{class:"px-2 py-5 rounded-lg"},{default:a(()=>[e(Ce,{class:"ps-6",style:{"font-size":"16px"}},{default:a(()=>[o(" 操作說明 ")]),_:1}),e(ue,{class:"pb-0"},{default:a(()=>[e(y,{style:{"font-size":"15px"}},{default:a(()=>[e(r,{cols:"12"},{default:a(()=>[e(V,{icon:"mdi-progress-check",color:"blue-darken-1",size:"small"}),o(" : 查看場次目前報名狀態按鈕 ")]),_:1}),e(r,{cols:"12"},{default:a(()=>[e(V,{icon:"mdi-pen",color:"teal-darken-1",size:"small"}),o(" : 編輯場次資訊按鈕 ")]),_:1}),e(r,{cols:"12"},{default:a(()=>[e(V,{icon:"mdi-delete",color:"red-darken-3",size:"small"}),o(" : 取消場次按鈕 ")]),_:1})]),_:1})]),_:1}),e(se,null,{default:a(()=>[e(ne),e(_,{color:"teal-lighten-1",variant:"outlined",size:"small",onClick:qe},{default:a(()=>[o(" 確認 ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(te,{modelValue:S.value.open,"onUpdate:modelValue":n[15]||(n[15]=l=>S.value.open=l),persistent:"",width:"440"},{default:a(()=>[e(Al,{onSubmit:wl(s(Le),["prevent"])},{default:a(()=>[e(L,{class:"rounded-lg px-6 py-5"},{default:a(()=>[e(Ce,{class:"dialog-title"},{default:a(()=>[o(i(S.value.id?"編輯場次":"新增場次"),1)]),_:1}),e(ue,{class:"mt-3 pa-3"},{default:a(()=>[e(Fl,{modelValue:s(B).value.value,"onUpdate:modelValue":n[2]||(n[2]=l=>s(B).value.value=l),"error-messages":s(B).errorMessage.value,items:K.value,"item-title":"fullName","item-value":"id",label:"球場",variant:"outlined",density:"compact",required:"","menu-props":{maxHeight:400},filter:je},{item:a(({props:l,item:p})=>[e(Ee,Me(l,{title:p.raw.fullName}),null,16,["title"])]),_:1},8,["modelValue","error-messages","items"]),e(N,{modelValue:s(M).value.value,"onUpdate:modelValue":n[3]||(n[3]=l=>s(M).value.value=l),"error-messages":s(M).errorMessage.value,label:"日期",variant:"outlined",density:"compact",type:"date",required:"",min:q.value},null,8,["modelValue","error-messages","min"]),e(y,null,{default:a(()=>[e(r,{cols:"6"},{default:a(()=>[e(N,{modelValue:s(R).value.value,"onUpdate:modelValue":n[4]||(n[4]=l=>s(R).value.value=l),"error-messages":s(R).errorMessage.value,label:"開始時間",variant:"outlined",density:"compact",readonly:"",clearable:"",onClick:n[5]||(n[5]=l=>Y("start"))},null,8,["modelValue","error-messages"])]),_:1}),e(r,{cols:"6"},{default:a(()=>[e(N,{modelValue:s(O).value.value,"onUpdate:modelValue":n[6]||(n[6]=l=>s(O).value.value=l),"error-messages":s(O).errorMessage.value,label:"結束時間",variant:"outlined",density:"compact",readonly:"",clearable:"",onClick:n[7]||(n[7]=l=>Y("end"))},null,8,["modelValue","error-messages"])]),_:1})]),_:1}),e(Ae,{modelValue:s(j).value.value,"onUpdate:modelValue":n[8]||(n[8]=l=>s(j).value.value=l),"error-messages":s(j).errorMessage.value,items:["男網","女網"],label:"網高",variant:"outlined",density:"compact",required:""},null,8,["modelValue","error-messages"]),e(Ae,{modelValue:s(W).value.value,"onUpdate:modelValue":n[9]||(n[9]=l=>s(W).value.value=l),"error-messages":s(W).errorMessage.value,items:["A","B+","B","C","新手友善"],label:"程度",variant:"outlined",density:"compact",required:""},null,8,["modelValue","error-messages"]),e(y,{class:"mb-1"},{default:a(()=>[e(r,null,{default:a(()=>[e(N,{modelValue:s(I).value.value,"onUpdate:modelValue":n[10]||(n[10]=l=>s(I).value.value=l),"error-messages":s(I).errorMessage.value,label:"男生人數",variant:"outlined",density:"compact",type:"number",required:""},null,8,["modelValue","error-messages"])]),_:1}),e(r,null,{default:a(()=>[e(N,{modelValue:s(fe).value.value,"onUpdate:modelValue":n[11]||(n[11]=l=>s(fe).value.value=l),"error-messages":s(fe).errorMessage.value,label:"女生人數",variant:"outlined",density:"compact",type:"number",required:""},null,8,["modelValue","error-messages"])]),_:1}),e(r,null,{default:a(()=>[e(N,{modelValue:s(ve).value.value,"onUpdate:modelValue":n[12]||(n[12]=l=>s(ve).value.value=l),"error-messages":s(ve).errorMessage.value,label:"不限性別人數",variant:"outlined",density:"compact",type:"number",required:""},null,8,["modelValue","error-messages"])]),_:1}),s(Z)["at-least-one-gender"]?(m(),g(Fe,{key:0,type:"error",class:"mt-3"},{default:a(()=>[o(i(s(Z)["at-least-one-gender"]),1)]),_:1})):k("",!0)]),_:1}),e(N,{modelValue:s(pe).value.value,"onUpdate:modelValue":n[13]||(n[13]=l=>s(pe).value.value=l),"error-messages":s(pe).errorMessage.value,label:"費用",variant:"outlined",density:"compact",type:"number",required:"",placeholder:"e.g. 250"},null,8,["modelValue","error-messages"]),e(Nl,{modelValue:s(_e).value.value,"onUpdate:modelValue":n[14]||(n[14]=l=>s(_e).value.value=l),"error-messages":s(_e).errorMessage.value,label:"備註",variant:"outlined",density:"compact"},null,8,["modelValue","error-messages"])]),_:1}),e(se,null,{default:a(()=>[s(z)?(m(),g(_,{key:0,color:"red-lighten-1",variant:"outlined",onClick:ye},{default:a(()=>[o(" 取消 ")]),_:1})):k("",!0),s(z)?(m(),g(_,{key:1,color:"teal-darken-1",type:"submit",variant:"outlined",loading:s(X)},{default:a(()=>[o(" 送出 ")]),_:1},8,["loading"])):k("",!0),s(z)?k("",!0):(m(),g(_,{key:2,color:"red-lighten-1",variant:"outlined",size:"small",onClick:ye},{default:a(()=>[o(" 取消 ")]),_:1})),s(z)?k("",!0):(m(),g(_,{key:3,color:"teal-darken-1",type:"submit",variant:"outlined",size:"small",loading:s(X)},{default:a(()=>[o(" 送出 ")]),_:1},8,["loading"]))]),_:1})]),_:1})]),_:1},8,["onSubmit"])]),_:1},8,["modelValue"]),e(Il,{modelValue:ee.value.open,"onUpdate:modelValue":n[16]||(n[16]=l=>ee.value.open=l),title:"確認要取消此場次嗎？",message:"此操作不可撤銷。","cancel-size":"small","confirm-size":"small",onConfirm:Re,onCancel:Pe},null,8,["modelValue"]),e(te,{modelValue:U.value.open,"onUpdate:modelValue":n[17]||(n[17]=l=>U.value.open=l),"max-width":"480px"},{default:a(()=>[e(L,{class:"pa-4"},{default:a(()=>[e(Ce,{class:"enrollment-record-title"},{default:a(()=>[o(" 報名清單 ")]),_:1}),e(ue,null,{default:a(()=>[U.value.enrollments.length===0?(m(),g(oe,{key:0,class:"text-center text-grey-darken-2"},{default:a(()=>[o(" 尚未有人報名 ")]),_:1})):(m(),D("div",ca,[e(Fe,{color:"blue-grey-lighten-1",class:"mb-4 alert-title",density:"compact",variant:"flat"},{default:a(()=>[e(V,{size:"small",icon:"mdi-information-outline",class:"pb-0 me-2"}),o(" 報名狀態 - "+i(He(U.value.session)),1)]),_:1}),e(Ml,null,{default:a(()=>[(m(!0),D(E,null,re(U.value.enrollments,l=>(m(),g(Ee,{key:l._id},{default:a(()=>[e(Ul,null,{default:a(()=>[f("span",ma,i(l.userId.name),1),o(),f("span",fa,i(l.userId.userId),1)]),_:2},1024),e(Ll,{class:"mt-2 mb-4"},{default:a(()=>[o(" 電話: "+i(l.userId.phone)+" | "+i(We(l)),1)]),_:2},1024),e(De)]),_:2},1024))),128))]),_:1})]))]),_:1}),e(se,null,{default:a(()=>[e(ne),e(_,{color:"blue-grey-darken-2",text:"",onClick:Je},{default:a(()=>[o(" 關閉 ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(te,{modelValue:b.value.open,"onUpdate:modelValue":n[19]||(n[19]=l=>b.value.open=l),width:"380"},{default:a(()=>[e(L,null,{default:a(()=>[e(ue,{class:"d-flex justify-center pa-0"},{default:a(()=>[b.value.open?(m(),g(d,{key:0,modelValue:b.value.time,"onUpdate:modelValue":n[18]||(n[18]=l=>b.value.time=l),format:"24hr",color:"teal-lighten-1",scrollable:""},null,8,["modelValue"])):k("",!0)]),_:1}),e(se,{class:"pe-8 pb-6"},{default:a(()=>[e(ne),e(_,{color:"primary",variant:"outlined",size:"small",onClick:ie},{default:a(()=>[o(" 確定 ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64)}}};typeof Ie=="function"&&Ie(Ue);const Sa=hl(Ue,[["__scopeId","data-v-44da7248"]]);export{Sa as default};

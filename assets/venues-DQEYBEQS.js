import{_ as N,o as r,n as d,w as e,d as a,s as $,A as j,x as A,g as n,t as x,j as v,V as y,I as F,q as M,i as U,r as _,ad as b,ax as G,aK as R,e as q,v as D,b as w,F as P,f as K,z as Q,C as H,m as J}from"./index-CFvRv7XV.js";import{V as m,a as i}from"./VRow-BNQQ9nUs.js";import{V as O}from"./VContainer-BKSb6Tns.js";import{a as W}from"./VSelect-I8MuSaEl.js";import{V as X}from"./VPagination-BwTpPUEe.js";import"./VList-CNAgPNHe.js";import"./VDivider-CtZ9S0X1.js";import"./VCheckboxBtn-Bw2KtmyV.js";import"./VChip-Dhdx12te.js";const Y={class:"info-text"},Z={class:"info-text"},ee={class:"info-text"},ae={__name:"VenueCard",props:["name","address","phone","images","time","mapLink"],setup(k){const c=k;return(C,p)=>(r(),d(M,{class:"custom-card d-flex flex-column",width:"100%"},{default:e(()=>[a(m,{class:"flex-grow-1"},{default:e(()=>[a(i,{cols:"12",sm:"6"},{default:e(()=>[a($,{src:c.images[0],width:"100%",class:"venue-img",cover:""},null,8,["src"])]),_:1}),a(i,{cols:"12",sm:"6"},{default:e(()=>[a(j,{class:"d-flex flex-column justify-space-between h-100 py-0"},{default:e(()=>[a(A,{class:"px-0 text-blue-grey-darken-3"},{default:e(()=>[n(x(c.name),1)]),_:1}),v("div",Y,[a(y,{color:"#555"},{default:e(()=>[n(" mdi-clock-outline ")]),_:1}),n(" 營業時間 : "+x(c.time),1)]),v("div",Z,[a(y,{color:"#555"},{default:e(()=>[n(" mdi-phone ")]),_:1}),n(" 電話 : "+x(c.phone),1)]),v("div",ee,[a(y,{color:"#555"},{default:e(()=>[n(" mdi-map ")]),_:1}),n(" 地址 : "+x(c.address),1)]),a(F,{elevation:"0",active:!1,variant:"text",class:"opacity-100 map-btn",href:c.mapLink,target:"_blank"},{default:e(()=>[a(y,{size:"x-large",color:"#039199",class:"me-2"},{default:e(()=>[n(" mdi-map-marker-radius-outline ")]),_:1}),n(" Google Map ")]),_:1},8,["href"])]),_:1})]),_:1})]),_:1})]),_:1}))}},te=N(ae,[["__scopeId","data-v-bcaeee58"]]),le=v("h2",null,"球場資訊",-1),se=v("div",{class:"ps-4",style:{color:"#333","font-size":"16px","font-weight":"500"}}," 地區 : ",-1),oe=v("p",null,"沒有找到相關球場",-1),T=10,_e={__name:"venues",setup(k){const{api:c}=H(),C=U(),p=_(""),f=_(""),g=_([]),V=_(!0),s=_(1),h=_(1),I=["台北市","新北市","桃園市","台中市","台南市","高雄市","基隆市","新竹市","嘉義市","新竹縣","苗栗縣","彰化縣","南投縣","雲林縣","嘉義縣","屏東縣","宜蘭縣","花蓮縣","台東縣","澎湖縣","金門縣","連江縣"],u=async()=>{var l,o;V.value=!0;try{const{data:t}=await c.get("/venue",{params:{itemsPerPage:T,page:s.value,search:p.value,city:f.value}});h.value=Math.ceil(t.result.total/T),g.value=t.result.data}catch(t){console.error("載入球場資訊時發生錯誤:",t),C({text:((o=(l=t==null?void 0:t.response)==null?void 0:l.data)==null?void 0:o.message)||"載入球場資訊時發生錯誤",snackbarProps:{color:"red-lighten-1"}}),g.value=[],h.value=1}finally{V.value=!1}},S=(()=>{let l;return()=>{V.value=!0,clearTimeout(l),l=setTimeout(()=>{s.value=1,u()},300)}})(),B=()=>{p.value="",s.value=1,u()},z=()=>{s.value=1,u()},E=()=>{f.value="",s.value=1,u()},L=()=>{window.scrollTo({top:0,behavior:"smooth"}),u()};return b(p,l=>{l===""&&(s.value=1,u())}),b(f,l=>{l===null&&(s.value=1,u())}),u(),(l,o)=>(r(),d(O,{class:"mt-8 mb-12",style:{"max-width":"1200px"},fluid:""},{default:e(()=>[le,a(m,{class:"mt-4"},{default:e(()=>[se]),_:1}),a(m,null,{default:e(()=>[a(i,{cols:"5",md:"3"},{default:e(()=>[a(W,{modelValue:f.value,"onUpdate:modelValue":[o[0]||(o[0]=t=>f.value=t),z],items:I,variant:"outlined",density:"compact",clearable:!!f.value,"onClick:clear":E},null,8,["modelValue","clearable"])]),_:1}),a(G),a(i,{cols:"5",md:"3"},{default:e(()=>[a(R,{modelValue:p.value,"onUpdate:modelValue":o[1]||(o[1]=t=>p.value=t),label:"搜尋","append-inner-icon":"mdi-magnify",variant:"outlined",density:"compact",clearable:"",onInput:q(S),"onClick:clear":B},null,8,["modelValue","onInput"])]),_:1})]),_:1}),V.value?(r(),d(m,{key:0,justify:"center",align:"center",style:{height:"200px"}},{default:e(()=>[a(i,{cols:"12",class:"text-center"},{default:e(()=>[a(D,{indeterminate:"",color:"primary",size:"64"})]),_:1})]),_:1})):(r(),w(P,{key:1},[g.value.length>0?(r(),d(m,{key:0,class:"mb-4"},{default:e(()=>[(r(!0),w(P,null,K(g.value,t=>(r(),d(i,{key:t._id,cols:"12",md:"6"},{default:e(()=>[a(te,J({ref_for:!0},t),null,16)]),_:2},1024))),128))]),_:1})):(r(),d(m,{key:1},{default:e(()=>[a(i,{cols:"12",class:"text-center"},{default:e(()=>[oe]),_:1})]),_:1})),h.value>1?(r(),d(m,{key:2},{default:e(()=>[a(i,{cols:"12"},{default:e(()=>[a(X,{modelValue:s.value,"onUpdate:modelValue":[o[2]||(o[2]=t=>s.value=t),L],length:h.value,rounded:"circle",density:"compact","next-icon":"mdi-menu-right","prev-icon":"mdi-menu-left","total-visible":8,color:"teal-darken-1"},null,8,["modelValue","length"])]),_:1})]),_:1})):Q("",!0)],64))]),_:1}))}};export{_e as default};
